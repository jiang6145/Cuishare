{"version":3,"sources":["webpack:///./src/views/MyFollow.vue?9ba5","webpack:///src/views/MyFollow.vue","webpack:///./src/views/MyFollow.vue?071a","webpack:///./src/views/MyFollow.vue","webpack:///./src/components/FollowButton.vue?2101","webpack:///src/components/FollowButton.vue","webpack:///./src/components/FollowButton.vue?e73c","webpack:///./src/components/FollowButton.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","following","length","_l","author","photoUrl","_id","_s","username","scopedSlots","_u","key","fn","proxy","directives","name","rawName","value","expression","on","$event","lookHisFollowers","lookHisFollowing","unFollowing","about","followers","hisFollow","modalTitle","onFollowing","staticRenderFns","components","FollowButton","data","methods","follow","index","unshift","splice","component","isMyself","_e","class","isFollow","props","Object","computed","user","$store","state","includes","id"],"mappings":"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","file":"js/my-follow.30ca8667.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-follow\"},[_c('b-container',[_c('b-row',[_c('b-col',{staticClass:\"mx-auto mb-4\",attrs:{\"cols\":\"12\",\"lg\":\"10\"}},[_c('h2',{staticClass:\"my-follow__title\"},[_vm._v(\"追蹤與粉絲\")])]),_c('b-col',{staticClass:\"mx-auto\",attrs:{\"cols\":\"12\",\"lg\":\"10\"}},[_c('b-tabs',[_c('b-tab',{attrs:{\"title\":'追蹤中 '+ _vm.following.length}},_vm._l((_vm.following),function(author){return _c('div',{staticClass:\"follow-item\"},[_c('b-avatar',{staticClass:\"follow-item__avatar\",attrs:{\"src\":author.photoUrl,\"size\":\"5rem\",\"to\":'/blog/'+ author._id}}),_c('div',{staticClass:\"follow-item__info\"},[_c('p',{staticClass:\"follow-item__username\"},[_vm._v(_vm._s(author.username)),_c('b-dropdown',{staticClass:\"follow-item__dropdown\",attrs:{\"variant\":\"link\",\"no-caret\":\"\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('font-awesome-icon',{staticClass:\"icon follow-item__icon\",attrs:{\"icon\":['fas','chevron-down'],\"fixed-width\":\"\"}})]},proxy:true}],null,true)},[_c('b-dropdown-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:('his-follow-modal'),expression:\"'his-follow-modal'\"}],on:{\"click\":function($event){return _vm.lookHisFollowers(author)}}},[_vm._v(\"他的粉絲\")]),_c('b-dropdown-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:('his-follow-modal'),expression:\"'his-follow-modal'\"}],on:{\"click\":function($event){return _vm.lookHisFollowing(author)}}},[_vm._v(\"他的追蹤\")]),_c('b-dropdown-item',{staticClass:\"dropdown--danger\",on:{\"click\":function($event){return _vm.unFollowing(author)}}},[_vm._v(\"取消追蹤\")])],1)],1),_c('p',{staticClass:\"follow-item__about\"},[_vm._v(_vm._s(author.about))]),_c('div',{staticClass:\"follow-item__his-follow\"},[_c('span',{staticClass:\"tag no-hover\"},[_vm._v(_vm._s('粉絲 ' + author.followers.length))]),_c('span',{staticClass:\"tag no-hover\"},[_vm._v(_vm._s('追蹤中 ' + author.following.length))])])])],1)}),0),_c('b-tab',{attrs:{\"title\":'粉絲 '+ _vm.followers.length}},_vm._l((_vm.followers),function(author){return _c('div',{staticClass:\"follow-item\"},[_c('b-avatar',{staticClass:\"follow-item__avatar\",attrs:{\"src\":author.photoUrl,\"size\":\"5rem\",\"to\":'/blog/'+ author._id}}),_c('div',{staticClass:\"follow-item__info\"},[_c('p',{staticClass:\"follow-item__username\"},[_vm._v(_vm._s(author.username)),_c('b-dropdown',{staticClass:\"follow-item__dropdown\",attrs:{\"variant\":\"link\",\"no-caret\":\"\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('font-awesome-icon',{staticClass:\"icon follow-item__icon\",attrs:{\"icon\":['fas','chevron-down'],\"fixed-width\":\"\"}})]},proxy:true}],null,true)},[_c('b-dropdown-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:('his-follow-modal'),expression:\"'his-follow-modal'\"}],on:{\"click\":function($event){return _vm.lookHisFollowers(author)}}},[_vm._v(\"他的粉絲\")]),_c('b-dropdown-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:('his-follow-modal'),expression:\"'his-follow-modal'\"}],on:{\"click\":function($event){return _vm.lookHisFollowing(author)}}},[_vm._v(\"他的追蹤\")])],1)],1),_c('p',{staticClass:\"follow-item__about\"},[_vm._v(_vm._s(author.about))]),_c('div',{staticClass:\"follow-item__his-follow\"},[_c('span',{staticClass:\"tag no-hover\"},[_vm._v(_vm._s('粉絲 ' + author.followers.length))]),_c('span',{staticClass:\"tag no-hover\"},[_vm._v(_vm._s('追蹤中 ' + author.following.length))])])])],1)}),0)],1)],1)],1)],1),_c('b-modal',{attrs:{\"id\":\"his-follow-modal\",\"title\":_vm.hisFollow.modalTitle,\"hide-footer\":\"\"}},_vm._l((_vm.hisFollow.follow),function(author){return _c('div',{staticClass:\"follow-item py-3\"},[_c('b-avatar',{key:author._id,staticClass:\"follow-item__avatar mr-3\",attrs:{\"size\":\"3rem\",\"src\":author.photoUrl,\"to\":'/blog/'+ author._id}}),_c('span',{staticClass:\"follow-item__username\"},[_vm._v(_vm._s(author.username))]),_c('FollowButton',{staticClass:\"ml-auto\",attrs:{\"author\":author},on:{\"onClick\":_vm.onFollowing}})],1)}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  .my-follow\n    b-container\n      b-row\n        b-col.mx-auto.mb-4(cols=\"12\" lg=\"10\")\n          h2.my-follow__title 追蹤與粉絲\n        b-col.mx-auto(cols=\"12\" lg=\"10\")\n          b-tabs\n            b-tab(:title=\"'追蹤中 '+ following.length\")\n              .follow-item(v-for=\"author in following\")\n                b-avatar.follow-item__avatar(\n                  :src=\"author.photoUrl\"\n                  size=\"5rem\"\n                  :to=\"'/blog/'+ author._id\"\n                )\n                .follow-item__info\n                  p.follow-item__username {{ author.username }}\n                    b-dropdown.follow-item__dropdown(\n                      variant=\"link\"\n                      no-caret\n                      right\n                    )\n                      template(#button-content)\n                        font-awesome-icon.icon.follow-item__icon(\n                          :icon=\"['fas','chevron-down']\"\n                          fixed-width\n                        )\n                      b-dropdown-item(\n                        @click=\"lookHisFollowers(author)\"\n                        v-b-modal=\"'his-follow-modal'\"\n                      ) 他的粉絲\n                      b-dropdown-item(\n                        @click=\"lookHisFollowing(author)\"\n                        v-b-modal=\"'his-follow-modal'\"\n                      ) 他的追蹤\n                      b-dropdown-item.dropdown--danger(@click=\"unFollowing(author)\") 取消追蹤\n                  p.follow-item__about {{ author.about }}\n                  .follow-item__his-follow\n                    span.tag.no-hover {{ '粉絲 ' + author.followers.length }}\n                    span.tag.no-hover {{ '追蹤中 ' + author.following.length }}\n\n            b-tab(:title=\"'粉絲 '+ followers.length\")\n              .follow-item(v-for=\"author in followers\")\n                b-avatar.follow-item__avatar(\n                  :src=\"author.photoUrl\"\n                  size=\"5rem\"\n                  :to=\"'/blog/'+ author._id\"\n                )\n                .follow-item__info\n                  p.follow-item__username {{ author.username }}\n                    b-dropdown.follow-item__dropdown(\n                      variant=\"link\"\n                      no-caret\n                      right\n                    )\n                      template(#button-content)\n                        font-awesome-icon.icon.follow-item__icon(\n                          :icon=\"['fas','chevron-down']\"\n                          fixed-width\n                        )\n                      b-dropdown-item(\n                        @click=\"lookHisFollowers(author)\"\n                        v-b-modal=\"'his-follow-modal'\"\n                      ) 他的粉絲\n                      b-dropdown-item(\n                        @click=\"lookHisFollowing(author)\"\n                        v-b-modal=\"'his-follow-modal'\"\n                      ) 他的追蹤\n                  p.follow-item__about {{ author.about }}\n                  .follow-item__his-follow\n                    span.tag.no-hover {{ '粉絲 ' + author.followers.length }}\n                    span.tag.no-hover {{ '追蹤中 ' + author.following.length }}\n\n    //- modal\n    b-modal#his-follow-modal(\n      :title=\"hisFollow.modalTitle\"\n      hide-footer\n    )\n      .follow-item.py-3(v-for=\"author in hisFollow.follow\")\n        b-avatar.follow-item__avatar.mr-3(\n          size=\"3rem\"\n          :key=\"author._id\"\n          :src=\"author.photoUrl\"\n          :to=\"'/blog/'+ author._id\"\n        )\n        span.follow-item__username {{author.username}}\n        FollowButton.ml-auto(:author=\"author\" @onClick=\"onFollowing\")\n</template>\n\n<script>\nimport FollowButton from '../components/FollowButton'\nexport default {\n  name: 'MyFollowing',\n  components: {\n    FollowButton\n  },\n  data () {\n    return {\n      following: [],\n      followers: [],\n      hisFollow: {}\n    }\n  },\n  methods: {\n    async unFollowing (author) {\n      try {\n        const isUnFavorites = await this.$bvModal.msgBoxConfirm(`你確定不要繼續追蹤「${author.username}」嗎?`, {\n          title: '取消關注',\n          size: 'md',\n          buttonSize: 'sm',\n          okVariant: 'danger',\n          okTitle: '確定',\n          cancelTitle: '取消',\n          hideHeaderClose: true,\n          centered: true,\n          headerClass: 'border-bottom-0 justify-content-center',\n          bodyClass: 'text-center',\n          footerClass: 'border-top-0 justify-content-center'\n        })\n        if (!isUnFavorites) return\n\n        const res = await this.axios.patch(process.env.VUE_APP_API + '/users/follow/' + author._id)\n        const { success, result } = res.data\n        if (success) {\n          this.$store.commit('following', result)\n\n          const index = this.following.findIndex(({ _id }) => _id === author._id)\n          this.following.splice(index, 1)\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    lookHisFollowing (author) {\n      this.hisFollow = {\n        modalTitle: '追蹤中 ' + author.following.length,\n        follow: author.following\n      }\n    },\n    lookHisFollowers (author) {\n      this.hisFollow = {\n        modalTitle: '粉絲 ' + author.followers.length,\n        follow: author.followers\n      }\n    },\n    onFollowing (author) {\n      const index = this.following.findIndex(({ _id }) => _id === author._id)\n      if (index < 0) {\n        this.following.unshift(author)\n      } else {\n        this.following.splice(index, 1)\n      }\n    }\n  },\n  async mounted () {\n    const loader = this.$loading.show()\n    try {\n      const res = await this.axios.get(process.env.VUE_APP_API + '/users/follow/following')\n      const { success, result } = res.data\n\n      if (success) {\n        this.following = result.following\n        this.followers = result.followers\n      }\n    } catch (error) {\n      console.log(error)\n    }\n\n    setTimeout(() => {\n      loader.hide()\n    }, 500)\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyFollow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyFollow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyFollow.vue?vue&type=template&id=3d4b2287&lang=pug&\"\nimport script from \"./MyFollow.vue?vue&type=script&lang=js&\"\nexport * from \"./MyFollow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.isMyself)?_c('b-button',{staticClass:\"custom-btn custom-btn--follow\",class:_vm.isFollow? 'btn--following' :'',attrs:{\"variant\":\"outline-warning\",\"size\":\"sm\"},on:{\"click\":_vm.follow}},[_vm._v(_vm._s(_vm.isFollow ? '追蹤中': '追蹤'))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div\n    b-button.custom-btn.custom-btn--follow(\n      v-if=\"!isMyself\"\n      variant=\"outline-warning\"\n      size=\"sm\"\n      @click=\"follow\"\n      :class=\"isFollow? 'btn--following' :''\"\n    ) {{ isFollow ? '追蹤中': '追蹤' }}\n</template>\n\n<script>\nexport default {\n  name: 'FollowButton',\n  props: {\n    author: Object\n  },\n  computed: {\n    user () {\n      return this.$store.state.user\n    },\n    isFollow () {\n      return this.user.following.includes(this.author._id)\n    },\n    isMyself () {\n      return this.author._id === this.user.id\n    }\n  },\n  methods: {\n    async follow () {\n      if (this.user.isBlocked) return this.$toasted.error('你的帳號被封鎖，不能操作')\n      try {\n        if (!this.user.id) return this.$bvModal.show('user-modal')\n\n        const res = await this.axios.patch(process.env.VUE_APP_API + '/users/follow/' + this.author._id)\n        const { success, result } = res.data\n\n        if (success) {\n          this.$store.commit('following', result)\n          this.$emit('onClick', result)\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FollowButton.vue?vue&type=template&id=1d135eb9&lang=pug&\"\nimport script from \"./FollowButton.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}